<!--<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Applicants</title>
        <link rel="stylesheet" href="/css/view_applicants.css">
    </head>
    <body>
        <div class="container">
            <h2>Applicants for: <span th:text="${job.title}"></span></h2>
            <div class="applicant-list" th:each="app : ${applications}">
                <div class="applicant-card">
                    <p><strong>Name:</strong> <span th:text="${app.applicant.name}"></span></p>
                    <p><strong>Email:</strong> <span th:text="${app.applicant.username}"></span></p>
                    <p><strong>Status:</strong> <span th:text="${app.status}"></span></p>
                    <form th:action="@{/employer/update}" method="post">
                        <input type="hidden" name="appId" th:value="${app.id}" />
                        <select name="status">
                            <option>APPLIED</option>
                            <option>SHORTLISTED</option>
                            <option>REJECTED</option>
                            <option>HIRED</option>
                        </select>
                        <button type="submit">Update</button>
                    </form>
                </div>
            </div>
        </div>
    </body>
</html>-->


<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Applicants</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="/css/view_applicants.css"/>
    </head>
    <body>
        <div class="container">
            <div class="header-bar">
                <h2>Applicants for: <span th:text="${job.title}"></span></h2>
            </div>

            <div th:each="app : ${applications}" class="card p-4">
                <div class="row mb-2">
                    <div class="col-md-6">
                        <strong>Name:</strong> <span th:text="${app.applicant.name}"></span>
                    </div>
                    <div class="col-md-6">
                        <strong>Email:</strong> <span th:text="${app.applicant.username}"></span>
                    </div>
                </div>
                <div class="row align-items-center">
                    <div class="col-md-4">
                        <strong>Status:</strong>

                        <span class="badge badge-status badge-applied" th:if="${app.status == 'APPLIED'}">‚úî APPLIED</span>
                        <span class="badge badge-status badge-reviewed" th:if="${app.status == 'REVIEWED'}">‚úèÔ∏è REVIEWED</span>
                        <span class="badge badge-status badge-interviewed" th:if="${app.status == 'INTERVIEWED'}">üìÖ INTERVIEWED</span>
                        <span class="badge badge-status badge-rejected" th:if="${app.status == 'REJECTED'}">‚ùå REJECTED</span>
                    </div>

                    <div class="col-md-8 d-flex justify-content-end">
                        <form th:action="@{/employer/applicants/update_status}" method="post" class="d-flex">
                            <input type="hidden" name="applicationId" th:value="${app.id}" />
                            <select name="status" class="form-select form-select-sm me-2">
                                <option th:selected="${app.status == 'APPLIED'}" value="APPLIED">‚úî APPLIED</option>
                                <option th:selected="${app.status == 'REVIEWED'}" value="REVIEWED">‚úèÔ∏è REVIEWED</option>
                                <option th:selected="${app.status == 'INTERVIEWED'}" value="INTERVIEWED">üìÖ INTERVIEWED</option>
                                <option th:selected="${app.status == 'REJECTED'}" value="REJECTED">‚ùå REJECTED</option>
                            </select>

                            <button type="submit" class="btn btn-primary btn-sm">Update</button>
                        </form>
                    </div>
                </div>
            </div>

            <a th:href="@{/employer/employer_dashboard}" class="btn btn-secondary mt-4">‚Üê Back to Dashboard</a>
        </div>
    </body>
</html>





<!--<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Applicants</title>
    <link rel="stylesheet" href="/css/view_applicants.css">
</head>
<body>
    <div class="container">
        <h2>Applicants for: <span th:text="${job.title}"></span></h2>

        <div th:if="${applications.empty}">
            <p>No applicants have applied for this job yet.</p>
        </div>

        <div class="applicant-list" th:each="app : ${applications}">
            <div class="applicant-card">
                <p><strong>Name:</strong> <span th:text="${app.applicant.name}"></span></p>
                <p><strong>Email:</strong> <span th:text="${app.applicant.username}"></span></p>
                <p><strong>Status:</strong> <span th:text="${app.status}"></span></p>
                <p><strong>Applied At:</strong> <span th:text="${#temporals.format(app.appliedAt, 'yyyy-MM-dd HH:mm')}"></span></p>

                <form th:action="@{/applications/{id}/update(id=${app.id})}" method="post">
                    <select name="status" required>
                        <option value="" disabled selected>Change Status</option>
                        <option th:each="s : ${statuses}"
                                th:value="${s}"
                                th:text="${#strings.capitalize(s.name().toLowerCase())}">
                        </option>
                    </select>
                    <button type="submit">Update</button>
                </form>
            </div>
        </div>
    </div>
</body>
</html>-->